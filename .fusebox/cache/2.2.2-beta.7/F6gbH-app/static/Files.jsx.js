module.exports = { contents: "\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar IconButton_1 = require(\"material-ui/IconButton\");\r\nvar React = require(\"react\");\r\nvar index_1 = require(\"./index\");\r\nvar uid = require(\"uid-safe\");\r\nvar _ = require(\"lodash\");\r\nvar List_1 = require(\"material-ui/List\");\r\nvar delete_forever_1 = require(\"material-ui/svg-icons/action/delete-forever\");\r\nvar Files = (function (_super) {\r\n    __extends(Files, _super);\r\n    function Files() {\r\n        var _this = _super.call(this) || this;\r\n        _this.state = { fileNames: [] };\r\n        return _this;\r\n    }\r\n    Files.prototype.componentDidMount = function () {\r\n        var _this = this;\r\n        var ref = index_1.database.ref(\"json_files\");\r\n        this.fbListener = ref.on(\"value\", function (snap) {\r\n            _this.setState({ fileNames: _.map(snap.val(), function (x) { return x.fileName; }) });\r\n            // if (this.state.fileNames[0])\r\n            //   this.handleDownload({}, this.state.fileNames[0]);\r\n        });\r\n    };\r\n    Files.prototype.handleDownload = function (e, fileName) {\r\n        var _this = this;\r\n        index_1.storage.ref(\"data/\" + fileName).getDownloadURL().then(function (url) {\r\n            fetch(url).then(function (res) { return res.json(); }).then(function (json) {\r\n                _this.props.prepareData(json);\r\n            });\r\n        });\r\n    };\r\n    Files.prototype.componentWillUnmount = function () {\r\n        if (typeof this.fbListener.off === \"function\")\r\n            this.fbListener.off();\r\n    };\r\n    Files.prototype.removeData = function (e, fileName) {\r\n        // Create a reference to the file to delete\r\n        var fileRef = index_1.storage.ref(\"data/\" + fileName);\r\n        fileRef\r\n            .delete()\r\n            .then(function () {\r\n            index_1.database\r\n                .ref(\"json_files\")\r\n                .orderByChild(\"fileName\")\r\n                .equalTo(fileName)\r\n                .once(\"child_added\", function (snap) {\r\n                index_1.database.ref(\"json_files\" + '/' + snap.key).remove();\r\n            });\r\n        })\r\n            .catch(function (error) {\r\n            // Uh-oh, an error occurred!\r\n        });\r\n    };\r\n    Files.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(List_1.List, null, this.state.fileNames &&\r\n            this.state.fileNames.map(function (fileName) {\r\n                return (React.createElement(List_1.ListItem, { key: fileName, style: { color: \"black\" }, onClick: function (e) { return _this.handleDownload(e, fileName); } },\r\n                    fileName,\r\n                    React.createElement(IconButton_1.default, { style: { position: \"absolute\", top: 10, right: 0 }, iconStyle: { position: \"absolute\", top: 0, right: 0 }, onClick: function (e) { _this.removeData(e, fileName); e.stopPropagation(); } },\r\n                        React.createElement(delete_forever_1.default, { color: \"lightgrey\", hoverColor: \"red\" }))));\r\n            })));\r\n    };\r\n    return Files;\r\n}(React.Component));\r\nexports.Files = Files;\r\n//# sourceMappingURL=Files.js.map",
dependencies: ["material-ui/IconButton","react","./index","uid-safe","lodash","material-ui/List","material-ui/svg-icons/action/delete-forever"],
sourceMap: "{\"version\":3,\"file\":\"Files.jsx\",\"sourceRoot\":\"\",\"sources\":[\"/src/Files.tsx\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"import Slider from \\\"material-ui/Slider\\\";\\r\\nimport IconButton from \\\"material-ui/IconButton\\\";\\r\\nimport * as React from \\\"react\\\";\\r\\nimport PlayArrow from \\\"material-ui/svg-icons/av/play-arrow\\\";\\r\\nimport Pause from \\\"material-ui/svg-icons/av/pause\\\";\\r\\nimport styled from \\\"styled-components\\\";\\r\\nimport { colors } from \\\"./constants\\\";\\r\\nimport { storage, database } from \\\"./index\\\";\\r\\nvar uid = require(\\\"uid-safe\\\");\\r\\nimport * as _ from \\\"lodash\\\";\\r\\nimport { List, ListItem } from \\\"material-ui/List\\\";\\r\\nimport DeleteForever from \\\"material-ui/svg-icons/action/delete-forever\\\";\\r\\n\\r\\nexport class Files extends React.Component<any, any> {\\r\\n  fbListener;\\r\\n  constructor() {\\r\\n    super();\\r\\n    this.state = { fileNames: [] };\\r\\n  }\\r\\n\\r\\n  componentDidMount() {\\r\\n    var ref = database.ref(\\\"json_files\\\");\\r\\n    this.fbListener = ref.on(\\\"value\\\", snap => {\\r\\n      this.setState({ fileNames: _.map(snap.val(), x => (x as any).fileName) });\\r\\n      // if (this.state.fileNames[0])\\r\\n      //   this.handleDownload({}, this.state.fileNames[0]);\\r\\n    });\\r\\n  }\\r\\n\\r\\n  handleDownload(e, fileName) {\\r\\n    storage.ref(\\\"data/\\\" + fileName).getDownloadURL().then(url => {\\r\\n      fetch(url).then(res => res.json()).then(json => {\\r\\n        this.props.prepareData(json);\\r\\n      });\\r\\n    });\\r\\n  }\\r\\n  componentWillUnmount() {\\r\\n    if (typeof this.fbListener.off === \\\"function\\\") this.fbListener.off();\\r\\n  }\\r\\n  removeData(e, fileName) {\\r\\n    // Create a reference to the file to delete\\r\\n    var fileRef = storage.ref(\\\"data/\\\" + fileName);\\r\\n\\r\\n    fileRef\\r\\n      .delete()\\r\\n      .then(function() {\\r\\n        database\\r\\n          .ref(\\\"json_files\\\")\\r\\n          .orderByChild(\\\"fileName\\\")\\r\\n          .equalTo(fileName)\\r\\n          .once(\\\"child_added\\\", snap => {\\r\\n            database.ref(\\\"json_files\\\" + '/' + snap.key).remove()\\r\\n          });\\r\\n      })\\r\\n      .catch(function(error) {\\r\\n        // Uh-oh, an error occurred!\\r\\n      });\\r\\n  }\\r\\n\\r\\n  render() {\\r\\n    return (\\r\\n      <List>\\r\\n        {this.state.fileNames &&\\r\\n          this.state.fileNames.map(fileName => {\\r\\n            return (\\r\\n              <ListItem\\r\\n                key={fileName}\\r\\n                style={{ color: \\\"black\\\" }}\\r\\n                onClick={e => this.handleDownload(e, fileName)}\\r\\n              >\\r\\n                {fileName}\\r\\n                <IconButton\\r\\n                  style={{ position: \\\"absolute\\\", top: 10, right: 0 }}\\r\\n                  iconStyle={{ position: \\\"absolute\\\", top: 0, right: 0 }}\\r\\n                  onClick={e => {this.removeData(e, fileName); e.stopPropagation()}}\\r\\n                >\\r\\n                  <DeleteForever color=\\\"lightgrey\\\" hoverColor=\\\"red\\\" />\\r\\n                </IconButton>\\r\\n              </ListItem>\\r\\n            );\\r\\n          })}\\r\\n      </List>\\r\\n    );\\r\\n  }\\r\\n}\\r\\n\"]}",
headerContent: undefined,
mtime: 1504052118025,
devLibsRequired : undefined
};